<html>
<head>
    <link rel="SHORTCUT ICON" href="favicon.ico" />
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>

    <script type="text/javascript">
        var version = new Date().toISOString();
        var scripts = [
            "common",
            "classes",
            "common-layer",
            "common-reveal",
            "common-animation"
        ];
        var cssObjects = [
            "common"
        ];
        cssObjects.forEach((obj) => {
            var script = document.createElement('link');
            script.setAttribute('rel', 'stylesheet');
            script.setAttribute('href', `css/${obj}.css?${version}`);
            document.head.appendChild(script);
        });

        scripts.forEach((obj) => {
            var script = document.createElement('script');
            script.setAttribute('type', 'text/javascript');
            script.setAttribute('src', `js/${obj}.js?${version}`);
            document.head.appendChild(script);
        });
    </script>

    <style type="text/css">
        @media screen and (min-width: 1300px) {
            .app-title {
                display: block;
            }
        }

        body {
            background-color: #ddd;
            margin: 0;
            padding: 0;
        }
    </style>
    <script type="text/javascript">
        /*
            Documentação Canvas:
            https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D
            Composições:
            https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation
            //Rotação:
            https://stackoverflow.com/questions/8936803/rotating-around-an-arbitrary-point-html5-canvas

            canvasCtx.beginPath();
            canvasCtx.arc(0, 0, 60, 0, Math.PI * 2, true);
            canvasCtx.clip();
            canvasCtx.closePath();
            //canvasCtx.globalCompositeOperation = "destination-out";
            //canvasCtx.fillStyle = "rgba(255, 255, 255, 0.3)";
            //canvasCtx.fillRect(50, 50, 100, 100);
        */

        setTimeout(() => {
            $(document).ready(() => {
                $(".app-title").html("Deploy Games Simple Virtual TableTop - V:23.02.10.260");
                $("input[type=number]").blur(function () {
                    var self = $(this);
                    val = parseFloat(self.val());
                    min = parseFloat(self.attr("min"));
                    max = parseFloat(self.attr("max"));
                    if (val > max) {
                        self.val(max);
                    } else if (val < min) {
                        self.val(min);
                    }
                    try {
                        eval(self.attr("lazyblur"));
                    } catch (e) {
                        console.log(e);
                    }
                });
                CreateToggles();
                ConfigureCanvas();
                ResetCanvas();

                //$("#modalEvent").modal("show");
            });
        }, 800);

        function ResetCanvas() {
            requestAnimationFrame(ResetCanvas);
            DeltaSeconds = CalculateDeltaSecs();

            canvasObj.width = window.innerWidth;
            canvasObj.height = window.innerHeight;
            currentDarken = getFloat("numGlobalShow");
            var cmpX = getInt("numCompX");
            var cmpY = getInt("numCompY");
            var rott = chkVal("chkHorizontal");
            var grid = chkVal("chkShowGrid");
            var cord = chkVal("chkShowCoords");
            var slrs = chkVal("chkShowAllLayer");
            var back = $("#numColorBk").val();

            //Zoom and Box Settings
            AMMOUNT = getInt("numBox");
            var ammountWZ = AMMOUNT * cameraZoom;

            //Parallax settings
            showAnimation = chkVal("chkParallaxAnim");
            parallaxDirection = chkVal("chkParallaxRtl");
            parallaxVertical = chkVal("chkParallaxVertical");
            parallaxSpeed = getFloat("numkParallaxSpeed");
            parallaxX = getInt("numParallaxX");
            parallaxY = getInt("numParallaxY");
            parallaxOp = getFloat("numParallaxOp");
            parallaxStretch = chkVal("chkParallaxStretch");

            //Background Color
            canvasCtx.fillStyle = back;
            canvasCtx.fillRect(0, 0, canvasObj.width, canvasObj.height);

            if (rott) {
                var centerX = (currentImg.width) / 2;
                var centerY = (currentImg.height) / 2;
                canvasCtx.translate(centerX, centerY);
                canvasCtx.rotate((90 * Math.PI) / 180);
                canvasCtx.translate(-centerX, -centerY);
            }

            //Parallax
            RenderParallax();

            MoveXY();
            var currX = (currentX + cmpX) + MoveXPosition;
            var currY = (currentY + cmpY) + MoveYPosition;

            //Background
            if (currentImg && currentImg.src && currentImg.src != "data:,") {
                try {
                    canvasCtx.drawImage(currentImg, currX, currY, currentImg.width * cameraZoom, currentImg.height * cameraZoom);
                } catch (e) {
                    console.error(e);
                }
            }

            //Layers
            if (slrs) {
                currentLayerList.forEach((layer) => {
                    layer.draw(canvasCtx, currX, currY);
                });
            }

            currentAnimationInstanceList.forEach((instance, idx) => {
                var delta = DeltaSeconds / 1000;
                instance.draw(canvasCtx, delta); //, currX, currY);
            });

            //Reveals
            RenderRevealCreate(currX, currY, ammountWZ);
            RenderRevealList(currX, currY, ammountWZ);

            if (rott) canvasCtx.setTransform(1, 0, 0, 1, 0, 0);

            //Fade
            RenderOverlay();

            //Grid and Coords
            RenderGridAndCoords(grid, cord);
        }

        function RenderOverlay() {
            if (currentDarken > 0) {
                canvasCtx.save();
                canvasCtx.fillStyle = `rgba(0, 0, 0, ${currentDarken})`;
                canvasCtx.fillRect(0, 0, canvasObj.width, canvasObj.height);
                canvasCtx.restore();
            }
        }

        function RenderGridAndCoords(grid, cord) {
            var stepsV = (window.innerWidth / AMMOUNT) + 1;
            var stepsH = (window.innerHeight / AMMOUNT) + 1;
            canvasCtx.save();
            if (grid) {
                for (var i = 0; i < stepsV; i++) {
                    if (i > 0) {
                        var pos = (i * AMMOUNT) - 1;
                        DrawVerLine(pos);
                    }
                }
                for (var j = 0; j < stepsH; j++) {
                    if (j > 0) {
                        var pos = (j * AMMOUNT) - 1;
                        DrawHorLine(pos);
                    }
                }
            }
            if (cord) DrawCoordsFull(stepsV, stepsH);
            canvasCtx.restore();
        }

        function RenderRevealCreate(currX, currY, ammountWZ) {
            if (createMapRevealEnabled) {
                var cc = hexToRgb($("#numColor").val());
                canvasCtx.fillStyle = `rgba(${cc.r}, ${cc.g}, ${cc.b}, 0.5)`;
                canvasCtx.fillRect((lastMouseX * AMMOUNT), (lastMouseY * AMMOUNT), AMMOUNT, AMMOUNT);

                canvasCtx.save();
                canvasCtx.fillStyle = $("#numColorMapReveal").val();
                currentRevealSteps.forEach((obj) => {
                    canvasCtx.fillRect(currX + (obj.x * ammountWZ), currY + (obj.y * ammountWZ), ammountWZ, ammountWZ);
                });
                canvasCtx.restore();
            }
        }

        function RenderRevealList(currX, currY, ammountWZ) {
            var showAll = chkVal("chkShowAllMapReveal");
            if (!showAll) return;
            if (currentRevealList.length > 0) {
                canvasCtx.save();
                var stepColor = $("#numColorMapReveal").val();
                canvasCtx.fillStyle = stepColor;
                var drawNames = chkVal("chkShowMapRevealNames");
                canvasCtx.font = `bold ${(parseInt(ammountWZ) - 4)}px Arial`;
                if (createMapRevealEnabled) {
                    canvasCtx.globalAlpha = 0.5;
                    //console.log(canvasCtx.globalAlpha);
                }
                currentRevealList.forEach((rev) => {
                    if (JSON.stringify(rev) === JSON.stringify(currentSelectedRevealItem) && createMapRevealEnabled) return;
                    if (rev.visible) {
                        rev.steps.forEach((obj) => {
                            var propX = CalcProportion(rev.Proportion, obj.x, AMMOUNT);
                            var propY = CalcProportion(rev.Proportion, obj.y, AMMOUNT);
                            canvasCtx.fillRect(currX + (propX * ammountWZ), currY + (propY * ammountWZ), ammountWZ, ammountWZ);
                        });
                        if (drawNames) {
                            canvasCtx.save();
                            var pos = rev.steps[0];
                            var propX = CalcProportion(rev.Proportion, pos.x, AMMOUNT);
                            var propY = CalcProportion(rev.Proportion, pos.y, AMMOUNT);
                            canvasCtx.fillStyle = invertColor(stepColor);
                            canvasCtx.fillText(rev.name, (currX + (propX * ammountWZ)) + 4, (currY + (propY * ammountWZ)) + (ammountWZ - 8));
                            canvasCtx.restore();
                        }
                    }
                });
                canvasCtx.restore();
            }
        }

        function ExecuteCommand(cmd) {
            var rott = $("#chkHorizontal").prop("checked");
            switch (cmd) {
                case 0: //BX+
                    AddValueToField("#numBox", 1, parseInt);
                    break;
                case 1: //BX-
                    AddValueToField("#numBox", -1, parseInt);
                    break;
                case 2: //ZM+
                    AddValueToField("#numCompZ", 0.01, parseFloat);
                    SetCanvasZoom();
                    break;
                case 3: //ZM-
                    AddValueToField("#numCompZ", -0.01, parseFloat);
                    SetCanvasZoom();
                    break;
                case 4: //CX+
                    AddValueToField("#numCompX", 1, parseInt);
                    break;
                case 5: //CX-
                    AddValueToField("#numCompX", -1, parseInt);
                    break;
                case 6: //CY+
                    AddValueToField("#numCompY", 1, parseInt);
                    break;
                case 7: //CY-
                    AddValueToField("#numCompY", -1, parseInt);
                    break;

                case 8: //Up
                    MoveStepsY(1, 1);
                    //ExecuteMove(Keys.Up, false, true, rott);
                    break;
                case 9: //Down
                    MoveStepsY(1, -1);
                    break;
                case 10: //Left
                    MoveStepsX(1, -1);
                    break;
                case 11: //Right
                    MoveStepsX(1, 1);
                    break;

                case 12: //Configure Objects
                    ShowHideObjectPanel(false);
                    break;

                case 13: //Layers
                    ShowHideLayerPanel(false);
                    break;

                case 14: //Map Reveal
                    ShowHideMapRevealPanel(false);
                    break;

                case 15: //Animations
                    ShowHideAnimationPanel(false);
                    break;

                case 16: //Events
                    ShowHideActionPanel(false);
                    break;

                default:
                    alert("Not Implemented Yet.");
                    break;
            }
        }

        var TremorTimes = 20;
        var TremorInterval = 25;
        var TremorDirection = 1;
        var TremorIntensity = 4;
        function ExecuteTremor() {
            TremorTimes--;
            if (TremorTimes <= 0) {
                $("#baseCanvas").css("margin-left", "0");
                TremorTimes = 20;
                return;
            }
            TremorDirection = (TremorDirection * -1);
            var tremorValue = `${(TremorIntensity * TremorDirection)}px`;
            $("#baseCanvas").css("margin-left", tremorValue);
            setTimeout(ExecuteTremor, TremorInterval);
        }
    </script>
</head>
<body>
    <div>
        <div style="display: none">
            <input type="file" id="uploadFile" accept="image/*" />
            <input type="file" id="uploadSettings" accept=".json" />
            <canvas id="saveCanvas"></canvas>
        </div>
        <table style="width: calc(100% - 10px); margin-top: 4px;">
            <tr>
                <td>
                    <div class="app-title"></div>
                </td>
                <td style="width: 8px">&nbsp;</td>
                <td style="width: 158px">
                    <div class="input-group input-group-sm">
                        <div class="input-group-btn">
                            <div class="btn-group btn-group-sm">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="glyphicon glyphicon-save"></i>&nbsp;Save&nbsp;<span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu" style="min-width: 120px !important; max-width: 120px !important; z-index: 2000">
                                    <li><a onclick="WriteSettings(false)"><i class="glyphicon glyphicon-save"></i>&nbsp;Save</a></li>
                                    <li><a onclick="WriteSettings(true)"><i class="glyphicon glyphicon-import"></i>&nbsp;Save As</a></li>
                                </ul>
                            </div>
                            <a class="btn btn-default" onclick="ReadSettings()" title="Load Settings">
                                <i class="glyphicon glyphicon-open"></i>&nbsp;Open
                            </a>
                            <a class="btn btn-default" onclick="ExecuteCommand(12)" title="Settings">
                                <i class="glyphicon glyphicon-cog"></i>&nbsp;Settings
                            </a>
                            <div class="btn-group btn-group-sm">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="glyphicon glyphicon-cog"></i>&nbsp;Misc&nbsp;<span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu" style="min-width: 50px !important;z-index: 2000">
                                    <li><a onclick="ExecuteCommand(13)"><i class="glyphicon glyphicon-list-alt"></i>&nbsp;Layers</a></li>
                                    <li><a onclick="ExecuteCommand(14)"><i class="glyphicon glyphicon-eye-close"></i>&nbsp;Map Reveals</a></li>
                                    <li><a onclick="ExecuteCommand(15)"><i class="glyphicon glyphicon-film"></i>&nbsp;Animations</a></li>
                                    <li><a onclick="ExecuteCommand(16)"><i class="glyphicon glyphicon-play"></i>&nbsp;Events</a></li>
                                </ul>
                            </div>
                            <a class="btn btn-default" onclick="ShowSettingsWindow()" title="Control Panel">
                                <i class="glyphicon glyphicon-th"></i>&nbsp;Control Panel
                            </a>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <div class="right-bar">
        <div class="btn-group btn-group-vertical">
            <a class="btn btn-default btnl-lg" onclick="ExecuteCommand(8)">
                <i class="glyphicon glyp-adj glyphicon-arrow-up"></i>
            </a>
            <a class="btn btn-default btnl-lg" onclick="ExecuteCommand(9)">
                <i class="glyphicon glyp-adj glyphicon-arrow-down"></i>
            </a>
            <a class="btn btn-default btnl-lg" onclick="ExecuteCommand(10)">
                <i class="glyphicon glyp-adj glyphicon-arrow-left"></i>
            </a>
            <a class="btn btn-default btnl-lg" onclick="ExecuteCommand(11)">
                <i class="glyphicon glyp-adj glyphicon-arrow-right"></i>
            </a>
            <!--<a class="btn btn-default btnl-lg" onclick="ExecuteCommand(0)">BX+</a>
            <a class="btn btn-default btnl-lg" onclick="ExecuteCommand(1)">BX-</a>
            <a class="btn btn-default btnl-lg" onclick="ExecuteCommand(2)">ZM+</a>
            <a class="btn btn-default btnl-lg" onclick="ExecuteCommand(3)">ZM-</a>
            <a class="btn btn-default btnl-lg" onclick="ExecuteCommand(4)">CX+</a>
            <a class="btn btn-default btnl-lg" onclick="ExecuteCommand(5)">CX-</a>
            <a class="btn btn-default btnl-lg" onclick="ExecuteCommand(6)">CY+</a>
            <a class="btn btn-default btnl-lg" onclick="ExecuteCommand(7)">CY-</a>-->
        </div>
    </div>

    <script type="text/javascript">
        function ConfigureActionControls() {
            var type = $("#ddlActionType").val();
            var ddlActionDirection = $("#ddlActionDirection");
            var numActionValue = $("#numActionValue");
            var chkActionValue = $("#chkActionValue");
            var numActionTime = $("#numActionTime");

            ddlActionDirection.prop("disabled", false).val("n");
            numActionValue.prop("disabled", false).val("1");
            chkActionValue.prop("disabled", false).prop("checked", false);
            numActionTime.prop("disabled", false).val("0.5");

            switch (type) {
                case EventType.MoveScene:
                    chkActionValue.prop("disabled", true);
                    break;

                case EventType.ChangeFog:
                    ddlActionDirection.prop("disabled", true);
                    chkActionValue.prop("disabled", true);
                    break;

                case EventType.ChangeLayer:
                case EventType.ChangeReveal:
                    ddlActionDirection.prop("disabled", true);
                    numActionValue.prop("disabled", true);
                    numActionTime.prop("disabled", true);
                    break;
            }
        }

        function AddEvent() {
            $("#modalEvent").modal("show");
        }
    </script>

    <div class="modal fade" id="modalAnimation" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog" role="document" style="width: 690px">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Manage Animation</h4>
                </div>
                <div class="modal-body">
                    <iframe id="frmAnimation" style="width: 100%; height: 310px; border: none;"></iframe>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-sm btn-primary" onclick="SaveCurrentAnimation()">Save</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modalEvent" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog" role="document" style="width: 490px">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Manage Event / Actions</h4>
                </div>
                <div class="modal-body">
                    <table style="width: 100%">
                        <tr>
                            <td>
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon addon-74p">Name:</span>
                                    <input type="text" class="form-control input-sm" id="txtEventName" />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label class="lbl-header" style="margin-top: 8px;">Actions</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <table style="width: 100%">
                                    <tr>
                                        <td style="width: 170px;">
                                            <div class="input-group input-group-sm">
                                                <span class="input-group-addon">Type:</span>
                                                <select id="ddlActionType" class="form-control input-sm" onchange="ConfigureActionControls()">
                                                    <option value="move">Move Scene</option>
                                                    <option value="fog">Change Fog</option>
                                                    <option value="layer">View Layer</option>
                                                    <option value="reveal">View Reveal</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td style="width: 8px">&nbsp;</td>
                                        <td style="width: 170px">
                                            <div class="input-group input-group-sm">
                                                <span class="input-group-addon">Direction:</span>
                                                <select id="ddlActionDirection" class="form-control input-sm">
                                                    <option value="n">None</option>
                                                    <option value="l">To Left</option>
                                                    <option value="r">To Right</option>
                                                    <option value="t">To Up</option>
                                                    <option value="b">To Down</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td style="width: 8px">&nbsp;</td>
                                        <td style="vertical-align: top">
                                            <div class="input-group input-group-sm">
                                                <span class="input-group-addon">
                                                    <input type="checkbox" id="chkIsParallel" />
                                                </span>
                                                <div class="form-control input-sm">Parallel</div>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                                <table style="width: 100%;margin-top: 10px">
                                    <tr>
                                        <td style="width: 130px">
                                            <div class="input-group input-group-sm">
                                                <span class="input-group-addon">Value:</span>
                                                <input type="number" class="form-control input-sm" min="0" step="1" id="numActionValue" value="1" />
                                            </div>
                                        </td>
                                        <td style="width: 8px">&nbsp;</td>
                                        <td>
                                            <div class="input-group input-group-sm">
                                                <span class="input-group-addon">
                                                    <input type="checkbox" id="chkActionValue" />
                                                </span>
                                                <div class="form-control input-sm">True/False</div>
                                            </div>
                                        </td>
                                        <td style="width: 8px">&nbsp;</td>
                                        <td>
                                            <div class="input-group input-group-sm">
                                                <span class="input-group-addon">Time:</span>
                                                <input type="number" class="form-control input-sm" min="0" max="3" step="0.01" id="numActionTime" value="0.5" />
                                            </div>
                                        </td>
                                        <td style="width: 8px">&nbsp;</td>
                                        <td style="text-align: right; width: 10px;">
                                            <div class="input-group input-group-sm">
                                                <div class="input-group-btn">
                                                    <a class="btn btn-success" onclick="ReadSettings()">
                                                        <i class="glyphicon glyphicon-floppy-disk"></i>&nbsp;Set
                                                    </a>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                    <table style="width: 100%; margin-top: 10px; font-size: 12px;" class="table table-bordered table-condensed">
                        <thead>
                            <tr>
                                <th style="text-align: center;width: 60px"></th>
                                <th style="text-align: center">Type</th>
                                <th style="text-align: center; width: 85px;">Direction</th>
                                <th style="text-align: center; width: 55px;">Parallel</th>
                                <th style="text-align: center; width: 45px;">Value</th>
                                <th style="text-align: center; width: 45px;">Check</th>
                                <th style="text-align: center; width: 45px;">Time</th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-sm btn-primary">Save</button>
                </div>
            </div>
        </div>
    </div>

    <div id="actionPanel" class="object-panel" style="display: none">
        <table style="width: 100%;">
            <tr>
                <td><label class="lbl-header">Events</label></td>
            </tr>
            <tr>
                <td>
                    <table style="width: 100%">
                        <tr>
                            <td></td>
                            <td style="text-align: right; vertical-align: baseline;">
                                <div class="input-group input-group-sm">
                                    <div class="input-group-btn">
                                        <a class="btn btn-default" onclick="AddEvent()" title="Add Event">
                                            <i class="glyphicon glyphicon-plus-sign"></i>&nbsp;Add
                                        </a>
                                        <a class="btn btn-default" onclick="CloneEvent()" title="Clone Event">
                                            <i class="glyphicon glyphicon-copy"></i>&nbsp;Cln
                                        </a>
                                        <a class="btn btn-default" onclick="DeleteEvent()" title="Delete Event">
                                            <i class="glyphicon glyphicon-remove"></i>&nbsp;Del
                                        </a>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td>
                    <table style="width: 100%">
                        <tr>
                            <td>
                                <select multiple id="lstActions" class="form-control input-sm" style="height: 100px"
                                        ondblclick="ChangeCurrentAction()"></select>
                            </td>
                            <td style="width: 40px">
                                <div class="btn-group btn-group-vertical">
                                    <a class="btn btn-default" style="height: 50px" onclick="MoverRevealUp()" title="Move List Up">
                                        <i class="glyphicon glyphicon-triangle-top"></i>
                                    </a>
                                    <a class="btn btn-default" style="height: 50px" onclick="MoverRevealDown()" title="Move List Down">
                                        <i class="glyphicon glyphicon-triangle-bottom" style="top: 20px;"></i>
                                    </a>
                                </div>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>

    <div id="animationPanel" class="object-panel" style="display: none">
        <table style="width: 100%;">
            <tr>
                <td colspan="3">
                    <table style="width: 100%">
                        <tr>
                            <td><label class="lbl-header">Animations</label></td>
                            <td style="text-align: right; vertical-align: baseline;">
                                <div class="input-group input-group-sm">
                                    <div class="input-group-btn">
                                        <a class="btn btn-default" onclick="AddAnimation()" title="Add Animation">
                                            <i class="glyphicon glyphicon-plus-sign"></i>&nbsp;Add
                                        </a>
                                        <a class="btn btn-default" onclick="CloneAnimation()" title="Clone Animation">
                                            <i class="glyphicon glyphicon-copy"></i>&nbsp;Cln
                                        </a>
                                        <a class="btn btn-default" onclick="DeleteAnimation()" title="Delete Animation">
                                            <i class="glyphicon glyphicon-remove"></i>&nbsp;Del
                                        </a>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                    <table style="width: 100%">
                        <tr>
                            <td>
                                <select multiple id="lstAnimations" class="form-control input-sm" style="height: 100px;" ondblclick="EditAnimation()"></select>
                            </td>
                        </tr>
                    </table>
                    <table style="width: 100%;margin-top: 4px">
                        <tr>
                            <td><label class="lbl-header" style="margin-top: 8px;">Anim. Instances</label></td>
                            <td style="text-align: right; vertical-align: baseline;">
                                <div class="input-group input-group-sm">
                                    <div class="input-group-btn">
                                        <a class="btn btn-default" onclick="AddAnimationInstance()" title="Add Animation Instance">
                                            <i class="glyphicon glyphicon-plus-sign"></i>&nbsp;Add
                                        </a>
                                        <a class="btn btn-default" onclick="CloneAnimationInstance()" title="Clone Animation Instance">
                                            <i class="glyphicon glyphicon-copy"></i>&nbsp;Cln
                                        </a>
                                        <a class="btn btn-default" onclick="PlayAnimationInstance()" title="Play Animation Instance">
                                            <i class="glyphicon glyphicon-play"></i>&nbsp;Play
                                        </a>
                                        <a class="btn btn-default" onclick="DeleteAnimationInstance()" title="Delete Animation Instance">
                                            <i class="glyphicon glyphicon-remove"></i>&nbsp;Del
                                        </a>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <select multiple id="lstAnimationInstances" class="form-control input-sm" style="height: 100px;" ondblclick="EditAnimationInstance()"></select>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td colspan="3">
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-74p">Name:</span>
                        <input type="text" class="form-control input-sm" id="txtAnimName" onblur="UpdateAnimationInstance()" />
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-74p" style="font-weight: bold">Resize:</span>
                        <input type="number" class="form-control input-sm" id="numImageResize" min="0.1" step=".01" value="1" onblur="UpdateAnimationInstance()" />
                    </div>
                </td>
                <td></td>
                <td>
                    <div id="divAnimationLoop"></div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-74p">Opacity:</span>
                        <input type="number" class="form-control input-sm" min="0.01" max="1" step=".01" id="numAnimOp" value="1" onblur="UpdateAnimationInstance()" />
                    </div>
                </td>
                <td></td>
                <td>
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-74p">Flip:</span>
                        <select class="form-control input-sm" id="lstFlipAnim" onchange="UpdateAnimationInstance()">
                            <option value="0">None</option>
                            <option value="1">Horizontal</option>
                            <option value="2">Vertical</option>
                            <option value="3">Both</option>
                        </select>
                    </div>
                </td>
            </tr>
            <tr>
                <td style="width: 170px">
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-74p">Step X:</span>
                        <div class="input-group-btn">
                            <a class="btn btn-default" onclick="StepAnimationInstance(-1, 0)" title="Step Minus X">
                                <i class="glyphicon glyphicon-triangle-left icon-adj"></i>
                            </a>
                            <a class="btn btn-default" onclick="StepAnimationInstance(1, 0)" title="Step Plus X">
                                <i class="glyphicon glyphicon-triangle-right icon-adj"></i>
                            </a>
                        </div>
                        <div class="form-control input-sm"></div>
                    </div>
                </td>
                <td style="width: 8px">&nbsp;</td>
                <td>
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-74p">Step Y:</span>
                        <div class="input-group-btn">
                            <a class="btn btn-default" onclick="StepAnimationInstance(0, 1)" title="Step Minus Y">
                                <i class="glyphicon glyphicon-triangle-bottom icon-adj"></i>
                            </a>
                            <a class="btn btn-default" onclick="StepAnimationInstance(0, -1)" title="Step Plus Y">
                                <i class="glyphicon glyphicon-triangle-top icon-adj"></i>
                            </a>
                        </div>
                        <div class="form-control input-sm"></div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-74p">X:</span>
                        <input type="number" class="form-control input-sm" min="-960" step="1"
                               id="numAnimationX" value="0" onblur="UpdateAnimationInstance()" oninput="UpdateAnimationInstance()" />
                    </div>
                </td>
                <td style="width: 8px">&nbsp;</td>
                <td>
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-74p">Y:</span>
                        <input type="number" class="form-control input-sm" min="-960" step="1"
                               id="numAnimationY" value="0" onblur="UpdateAnimationInstance()" oninput="UpdateAnimationInstance()" />
                    </div>
                </td>
            </tr>
        </table>
    </div>

    <div id="mapRevealPanel" class="object-panel map-reveal-panel" style="display: none">
        <table style="width: 100%;">
            <tr>
                <td><label class="lbl-header">Map Reveal Steps</label></td>
            </tr>
            <tr>
                <td style="text-align: right">
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-60p" title="Reveal Items Color">Color:</span>
                        <input type="color" class="form-control input-sm" id="numColorMapReveal" value="#ffffff" />
                        <div class="input-group-btn">
                            <a class="btn btn-default" onclick="AddRevealItem()" title="Add Item">
                                <i class="glyphicon glyphicon-plus-sign"></i>&nbsp;Add
                            </a>
                            <a class="btn btn-default" onclick="CloneRevealItem()" title="Clone Item">
                                <i class="glyphicon glyphicon-copy"></i>&nbsp;Cln
                            </a>
                            <a class="btn btn-default" onclick="EditRevealItem()" title="Edit Item">
                                <i class="glyphicon glyphicon-pencil"></i>&nbsp;Edt
                            </a>
                            <a class="btn btn-default" onclick="DeleteRevealItem()" title="Delete Item">
                                <i class="glyphicon glyphicon-remove"></i>&nbsp;Del
                            </a>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div style="margin-top: 5px"></div>
                    <table style="width: 100%">
                        <tr>
                            <td id="tdShowMapRevealNames"></td>
                            <td id="tdShowAllMapReveal" style="text-align: right"></td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td>
                    <table style="width: 100%">
                        <tr>
                            <td>
                                <select multiple id="lstMapReveals" class="form-control input-sm" style="height: 232px"
                                        ondblclick="ChangeCurrentMapReveal()"></select>
                            </td>
                            <td style="width: 40px">
                                <div class="btn-group btn-group-vertical">
                                    <a class="btn btn-sm-adj btn-default" onclick="MoveRevealItem(0)" title="Move Map Up">
                                        <i class="glyphicon glyp-adj glyphicon-arrow-up"></i>
                                    </a>
                                    <a class="btn btn-sm-adj btn-default" onclick="MoveRevealItem(1)" title="Move Map Down">
                                        <i class="glyphicon glyp-adj glyphicon-arrow-down"></i>
                                    </a>
                                    <a class="btn btn-sm-adj btn-default" onclick="MoveRevealItem(2)" title="Move Map Left">
                                        <i class="glyphicon glyp-adj glyphicon-arrow-left"></i>
                                    </a>
                                    <a class="btn btn-sm-adj btn-default" onclick="MoveRevealItem(3)" title="Move Map Right">
                                        <i class="glyphicon glyp-adj glyphicon-arrow-right"></i>
                                    </a>
                                </div>
                                <div class="btn-group btn-group-vertical">
                                    <a class="btn btn-default" style="height: 50px" onclick="MoverRevealUp()" title="Move List Up">
                                        <i class="glyphicon glyphicon-triangle-top"></i>
                                    </a>
                                    <a class="btn btn-default" style="height: 50px" onclick="MoverRevealDown()" title="Move List Down">
                                        <i class="glyphicon glyphicon-triangle-bottom" style="top: 20px;"></i>
                                    </a>
                                </div>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>

    <div class="object-panel layer-panel" id="layersPanel" style="display: none">
        <table style="width: 100%;">
            <tr>
                <td><label class="lbl-header">Layers</label></td>
            </tr>
            <tr>
                <td>
                    <table style="width: 100%">
                        <tr>
                            <td id="tdShowAllLayer"></td>
                            <td style="text-align: right; vertical-align: baseline;">
                                <div class="input-group input-group-sm">
                                    <div class="input-group-btn">
                                        <a class="btn btn-default" onclick="AddLayer()" title="Add Layer">
                                            <i class="glyphicon glyphicon-plus-sign"></i>&nbsp;Add
                                        </a>
                                        <a class="btn btn-default" onclick="CloneLayer()" title="Clone Layer">
                                            <i class="glyphicon glyphicon-copy"></i>&nbsp;Cln
                                        </a>
                                        <a class="btn btn-default" onclick="DeleteLayer()" title="Delete Layer">
                                            <i class="glyphicon glyphicon-remove"></i>&nbsp;Del
                                        </a>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td>
                    <table style="width: 100%">
                        <tr>
                            <td>
                                <select multiple id="lstLayers" class="form-control input-sm" style="height: 100px;" ondblclick="SelectCurrentLayer()"></select>
                            </td>
                            <td style="width: 40px">
                                <div class="btn-group btn-group-vertical">
                                    <a class="btn btn-default" style="height: 50px" onclick="MoverLayerUp()" title="Move Up">
                                        <i class="glyphicon glyphicon-triangle-top"></i>
                                    </a>
                                    <a class="btn btn-default" style="height: 50px" onclick="MoverLayerDown()" title="Move Down">
                                        <i class="glyphicon glyphicon-triangle-bottom" style="top: 20px;"></i>
                                    </a>
                                </div>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td>
                    <table style="width: 100%;">
                        <tr>
                            <td colspan="3">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon addon-74p">Name:</span>
                                    <input type="text" class="form-control input-sm" id="txtLayerName" onblur="UpdateSelectedLayer()" />
                                </div>
                            </td>
                        </tr>
                    </table>
                    <table style="width: 100%;">
                        <tr>
                            <td style="width: 170px">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon addon-74p">Step X:</span>
                                    <div class="input-group-btn">
                                        <a class="btn btn-default" onclick="StepCurrentLayer(-1, 0)" title="Step Minus X">
                                            <i class="glyphicon glyphicon-triangle-left icon-adj"></i>
                                        </a>
                                        <a class="btn btn-default" onclick="StepCurrentLayer(1, 0)" title="Step Plus X">
                                            <i class="glyphicon glyphicon-triangle-right icon-adj"></i>
                                        </a>
                                    </div>
                                    <div class="form-control input-sm"></div>
                                </div>
                            </td>
                            <td style="width: 8px">&nbsp;</td>
                            <td>
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon addon-74p">Step Y:</span>
                                    <div class="input-group-btn">
                                        <a class="btn btn-default" onclick="StepCurrentLayer(0, 1)" title="Step Minus Y">
                                            <i class="glyphicon glyphicon-triangle-bottom icon-adj"></i>
                                        </a>
                                        <a class="btn btn-default" onclick="StepCurrentLayer(0, -1)" title="Step Plus Y">
                                            <i class="glyphicon glyphicon-triangle-top icon-adj"></i>
                                        </a>
                                    </div>
                                    <div class="form-control input-sm"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon addon-74p">X:</span>
                                    <input type="number" class="form-control input-sm" min="-960" step="1" id="numLayerX" value="0" lazyblur="UpdateSelectedLayer()" />
                                </div>
                            </td>
                            <td style="width: 8px">&nbsp;</td>
                            <td>
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon addon-74p">Y:</span>
                                    <input type="number" class="form-control input-sm" min="-960" step="1" id="numLayerY" value="0" lazyblur="UpdateSelectedLayer()" />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon addon-74p">Width:</span>
                                    <input type="number" class="form-control input-sm" min="0" step="1" id="numLayerW" value="0" lazyblur="UpdateSelectedLayer()" />
                                </div>
                            </td>
                            <td style="width: 8px">&nbsp;</td>
                            <td>
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon addon-74p">Height:</span>
                                    <input type="number" class="form-control input-sm" min="0" step="1" id="numLayerH" value="0" lazyblur="UpdateSelectedLayer()" />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon addon-74p">Opacity:</span>
                                    <div class="form-control input-sm">
                                        <input type="range" min="0" max="1" step="0.1" id="numLayerOp" value="1" oninput="UpdateSelectedLayer()" />
                                    </div>
                                </div>
                            </td>
                            <td style="width: 8px">&nbsp;</td>
                            <td>
                                <div class="input-group input-group-sm">
                                    <span class="input-group-addon addon-74p">Flip:</span>
                                    <select class="form-control input-sm" id="lstFlipLayer" onchange="UpdateSelectedLayer()">
                                        <option value="0">None</option>
                                        <option value="1">Horizontal</option>
                                        <option value="2">Vertical</option>
                                        <option value="3">Both</option>
                                    </select>
                                </div>
                            </td>
                        </tr>
                    </table>
                    <table style="width: 100%;margin-top: 5px">
                        <tr>
                            <td id="tdShowLayerOverlay"></td>
                            <td style="width: 8px">&nbsp;</td>
                            <td style="text-align: right; vertical-align: baseline; ">
                                <div class="input-group input-group-sm" title="Overlay Opacity">
                                    <span class="input-group-addon addon-74p">O.Opacity:</span>
                                    <div class="form-control input-sm">
                                        <input type="range" min="0" max="1" step="0.1" id="numLayerOverlayOp" value="1" oninput="UpdateSelectedLayer()" />
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                    <table style="width: 100%;">
                        <tr>
                            <td id="tdShowLayer" style="width: 170px"></td>
                            <td style="width: 8px">&nbsp;</td>
                            <td style="vertical-align: baseline;">
                                <div class="input-group input-group-sm" title="Overlay Color">
                                    <span class="input-group-addon addon-60p">O.Color:</span>
                                    <input type="color" class="form-control input-sm" id="numColorLayerOverlay" value="#000000" oninput="UpdateSelectedLayer()" />
                                </div>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>

    <div class="object-panel" id="objectPanel" style="display: none">
        <table style="width: 100%;">
            <tr>
                <td colspan="3"><label class="lbl-header">Settings</label></td>
            </tr>
            <tr>
                <td style="width: 50%">
                    <div class="input-group input-group-sm" title="Global Show" style="margin-bottom: 3px">
                        <span class="input-group-addon addon-74p">Fog:</span>
                        <div class="form-control input-sm">
                            <input type="range" min="0" max="1" step="0.1" id="numGlobalShow" value="0" />
                        </div>
                    </div>
                </td>
                <td style="width: 8px">&nbsp;</td>
                <td>
                    <div id="divShowGrid"></div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="input-group input-group-sm" style="margin-bottom: 3px">
                        <div class="input-group-btn">
                            <a class="btn btn-default" onclick="LoadBackground()" title="Background">
                                <i class="glyphicon glyphicon-picture"></i>&nbsp;Background
                            </a>
                            <a class="btn btn-default" onclick="LoadParallax()" title="Parallax">
                                <i class="glyphicon glyphicon-picture"></i>&nbsp;Parallax
                            </a>
                        </div>
                    </div>
                </td>
                <td></td>
                <td>
                    <div id="divHorizontal"></div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="input-group input-group-sm" style="margin-bottom: 3px">
                        <div class="input-group-btn">
                            <a class="btn btn-default" onclick="ClearBackground()" title="Clear Background">
                                Clear Back
                            </a>
                            <a class="btn btn-default" onclick="ClearParallax()" title="Clear Parallax">
                                Clear Parallax
                            </a>
                        </div>
                    </div>
                </td>
                <td></td>
                <td>
                    <div id="divShowCoords"></div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="input-group input-group-sm" title="Background Color">
                        <span class="input-group-addon addon-60p">BC:</span>
                        <input type="color" class="form-control input-sm" id="numColorBk" value="#000000" />
                    </div>
                </td>
                <td></td>
                <td>
                    <div class="input-group input-group-sm" title="Grid Color">
                        <span class="input-group-addon addon-60p">GC:</span>
                        <input type="color" class="form-control input-sm" id="numColor" value="#ff0000" />
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-60p">Box:</span>
                        <input type="number" class="form-control input-sm" min="48" max="128" step="1" id="numBox" value="96" />
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="caret"></span></button>
                            <ul class="dropdown-menu" style="min-width: 50px !important;">
                                <li><a onclick="SetBoxValue('48')">48</a></li>
                                <li><a onclick="SetBoxValue('72')">72</a></li>
                                <li><a onclick="SetBoxValue('96')">96</a></li>
                            </ul>
                        </div>
                    </div>
                </td>
                <td></td>
                <td>
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-60p">Zoom:</span>
                        <input type="number" class="form-control input-sm" min="-5" max="5" step=".01" id="numCompZ" value="1" onchange="SetCanvasZoom()" pattern="^\d*(\.\d{0,2})?$" />
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-74p">Step X:</span>
                        <div class="input-group-btn">
                            <a class="btn btn-default" onclick="StepBackground(-1, 0)" title="Step Minus X">
                                <i class="glyphicon glyphicon-triangle-left icon-adj"></i>
                            </a>
                            <a class="btn btn-default" onclick="StepBackground(1, 0)" title="Step Plus X">
                                <i class="glyphicon glyphicon-triangle-right icon-adj"></i>
                            </a>
                        </div>
                        <div class="form-control input-sm"></div>
                    </div>
                </td>
                <td style="width: 8px">&nbsp;</td>
                <td>
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-74p">Step Y:</span>
                        <div class="input-group-btn">
                            <a class="btn btn-default" onclick="StepBackground(0, 1)" title="Step Minus Y">
                                <i class="glyphicon glyphicon-triangle-bottom icon-adj"></i>
                            </a>
                            <a class="btn btn-default" onclick="StepBackground(0, -1)" title="Step Plus Y">
                                <i class="glyphicon glyphicon-triangle-top icon-adj"></i>
                            </a>
                        </div>
                        <div class="form-control input-sm"></div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="input-group input-group-sm" title="Background Complement X">
                        <span class="input-group-addon addon-60p">CX:</span>
                        <input type="number" class="form-control input-sm" min="-9600" max="9600" id="numCompX" value="0" />
                    </div>
                </td>
                <td></td>
                <td>
                    <div class="input-group input-group-sm" title="Background Complement Y">
                        <span class="input-group-addon addon-60p">CY:</span>
                        <input type="number" class="form-control input-sm" min="-9600" max="9600" id="numCompY" value="0" />
                    </div>
                </td>
            </tr>
            <tr>
                <td colspan="3">
                    <div style="margin-top: 8px"></div>
                    <label class="lbl-header">Parallax Settings</label>
                </td>
            </tr>
            <tr>
                <td><div id="divParallaxAnim"></div></td>
                <td></td>
                <td><div id="divParallaxRtl"></div></td>
            </tr>
            <tr>
                <td><div id="divParallaxVertical"></div></td>
                <td></td>
                <td><div id="divParallaxStretch"></div></td>
            </tr>
            <tr>
                <td>
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-74p">Speed:</span>
                        <input type="number" class="form-control input-sm" min="-5" max="5" step=".01" id="numkParallaxSpeed" value="2" />
                    </div>
                </td>
                <td></td>
                <td>
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-74p">Opacity:</span>
                        <div class="form-control input-sm">
                            <input type="range" min="0" max="1" step="0.1" id="numParallaxOp" value="1" />
                        </div>
                    </div>

                </td>
            </tr>
            <tr>
                <td>
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-74p">Step X:</span>
                        <div class="input-group-btn">
                            <a class="btn btn-default" onclick="StepParallax(-1, 0)" title="Step Minus X">
                                <i class="glyphicon glyphicon-triangle-left icon-adj"></i>
                            </a>
                            <a class="btn btn-default" onclick="StepParallax(1, 0)" title="Step Plus X">
                                <i class="glyphicon glyphicon-triangle-right icon-adj"></i>
                            </a>
                        </div>
                        <div class="form-control input-sm"></div>
                    </div>
                </td>
                <td style="width: 8px">&nbsp;</td>
                <td>
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon addon-74p">Step Y:</span>
                        <div class="input-group-btn">
                            <a class="btn btn-default" onclick="StepParallax(0, 1)" title="Step Minus Y">
                                <i class="glyphicon glyphicon-triangle-bottom icon-adj"></i>
                            </a>
                            <a class="btn btn-default" onclick="StepParallax(0, -1)" title="Step Plus Y">
                                <i class="glyphicon glyphicon-triangle-top icon-adj"></i>
                            </a>
                        </div>
                        <div class="form-control input-sm"></div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="input-group input-group-sm" title="Parallax Complement X">
                        <span class="input-group-addon addon-74p">CX:</span>
                        <input type="number" class="form-control input-sm" min="-9600" max="9600" id="numParallaxX" value="0" />
                    </div>
                </td>
                <td></td>
                <td>
                    <div class="input-group input-group-sm" title="Parallax Complement Y">
                        <span class="input-group-addon addon-74p">CY:</span>
                        <input type="number" class="form-control input-sm" min="-9600" max="9600" id="numParallaxY" value="0" />
                    </div>
                </td>
            </tr>
        </table>
    </div>

    <div class="content">
        <canvas id="baseCanvas" style="width: calc(100%); height: calc(100%);"></canvas>
    </div>
</body>
</html>